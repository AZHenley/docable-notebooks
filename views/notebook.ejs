<!doctype html>
<html lang="en" class="h-100">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Docable Notebook</title>

    <link rel="icon" 
        type="image/png"
        href="/media/favicon.png">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <link rel="stylesheet" href="/css/github-markdown.css">
    <link rel="stylesheet" href="/css/notebook.css">
    <link rel="stylesheet" href="/css/sticky-footer-navbar.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css">
    <script src="/js/vendor/font-awesome.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>

    <style>

        @keyframes border-pulsate {
            0% { outline-color: #ccfacc; }
            /* 50% { outline-color: #0d7f0d; } */
            100% { 
                outline-color: #61EF61; 
                box-shadow:
                0 0 3px 1px #fff,  /* inner white */
                0 0 10px 6px #ccfacc; /* outline bright */
            } 
        }

        .docable-cell-running {
            animation: border-pulsate 2s infinite;
            outline-style: solid;
            outline-width: 1px;
        }

    </style>

</head>

<body class="d-flex flex-column h-100">
    <header>
        <!-- Fixed navbar -->
        <nav class="navbar navbar-dark bg-dark fixed-top navbar-expand-sm ">
            <a class="navbar-brand" href="/">Docable</a>

            <!-- Local environments can pick their environment -->
            <% if (!this.isHosted) { %>
                <%- include('templates/environment'); -%>
            <% } %>

            <button type="button" class="ml-auto btn btn-outline-success" id="submit">
                <span class="" role="status" id="submit-button" aria-hidden="true"></span>
                Run Notebook
            </button>
        </nav>
    </header>

    <!-- Begin page content -->
    <main role="main" id="main" class="flex-shrink-0" style="display: flex; flex-wrap: wrap; flex-direction: column;">

        <!-- Display major errors here -->
        <div id='docable-error' class="alert alert-danger shadow p-3 rounded"></div>


        <div class="notebook-variables">
            <%- include('templates/notebook_variables'); -%>
        </div>

        <!-- style="flex: 1;" -->
        <div class="markdown-body">
            <!-- Rendered notebook content -->
            <%- notebookHtml %>
        </div>

        <!--- style customization not supported by css -->
        <script>
            $("[data-type='command'][data-spawn='true']")
                .parents('.docable-cell').children('.sideAnnotation').append('üñ•Ô∏è ');
        </script>

    </main>

    <%- include('templates/footer_analytics'); -%>

    <script src="/js/notebookApi.js"></script>
    <script src="/js/notebook.js"></script>

</body>

</html>
